#+TITLE: СиСПИ. Лекции
#+AUTHOR: Максим Захаров
#+LaTeX_CLASS: ncc

* Логическая многоуровневая организация ЗТКС
  CLOCK: [2010-09-02 Чтв 11:58]--[2010-09-02 Чтв 13:17] =>  1:19

Организация ТКС должна удовлетворять следующим требованиям.
1) Открытость. Возможность подключения дополнительных узлов, абонентов, линий связи без изменения существующих технических и программных средств.
2) Гибкость. Сохранение работоспособности при изменении структуры системы (при выходе из строя отдельных компонентов).
3) Эффективность. Обеспечение требуемого качества обслуживания абонентов при минимальных затратах.
  
** Процессы

1) Прикладные процессы выполняют задачи пользователя.
2) Системные выполняют вспомогательные функции, обеспечивающие функционирование прикладных процессов.

Ввод и вывод данных, необходимых процессу, производится *сообщениями* через программно-организованные логические точки, называемые порты.

** Модель взаимодействия открытых систем

В 1978 году международная организация по стандартизации ISO ввела новую модель стандартов, которая получила название "модель взаимодействия открытых систем" --- ISO/OSI.

Данная модель обладала следующими особенностями:
1) Является стандартом в передаче данных, позволяющим системам различных производителей устанавливать сетевые соединения.
2) Состоит из 7 уровней со специфическим набором функций и включает описание межуровневых интерфейсов.
3) Определяет набор протоколов и интерфейсов для каждого уровня.

** Функции уровней модели OSI

*** Физический уровень

Контролирует путь, по которому поток битов данных передаётся и принимается из физической среды передачи. Он определяет электрический, оптический, электромагнитный и механический интерфейс для передающей среды. Он принимает сигналы из среды передачи и преобразует их в цифровые данные, которые используют все вышележащие уровни.

*** Канальный уровень

Обеспечивает безошибочную передачу кадров данных между системами через физический уровень.

Выполняет следующие функции:
1) Установление и разрыв связи между двумя системами, определёнными адресами их сетевых адаптеров (MAC-адрес).
2) Последовательная передача и приём кадров.
3) Проверка правильности данных в принятых кадрах и подтверждение успешного приёма кадров (функция квитирования).
4) Ожидание подтверждения приёма кадра; инициализация повторной передачи кадра; разрешение вопросов, связанных с дублированием кадров.
5) Определение границ кадров.
6) Управление доступом в передающую среду путём определения оптимального момента начала передачи.
7) Анализ пункта назначения принятого кадра.

Протоколы канального уровня называются протоколами прямой передачи или пиринговые протоколы. Они устанавливают соединения только с непосредственными соседями в сети, с которыми у них общая среда передачи.

*** Сетевой уровень

Контролирует работу сети. Он определяет какой физический путь должны пройти данные исходя из логического адреса получателя. Протокольная единица --- пакет.

Функции:
1) Передача пакета маршрутизатору в том случае, если сетевой адрес пункта назначения не находится в той же подсети, что и отправитель.
2) Установление однозначной связи логического адреса на сетевом уровне и физического адреса на канальном --- ARP.
3) Возможность использования альтернативного маршрута в случае отказа основного маршрутизатора.
4) Управление фрагментацией пакетов.
5) Возможность учёта количества переданных пакетов для работы биллинговой системы.

*** Транспортный уровень

Протокольная единица --- сегмент/дейтаграмма.

Гарантирует доставку сообщений в том порядке, в каком они были посланы. Гарантирует отсутствие потерь и дублирования информации.

Функции:
1) Приём сообщений с вышележащего уровня и, при необходимости, разбивка их на сегменты.
2) Обеспечение надёжной и гарантированной доставки сообщений и подтверждение успешного приёма.
3) Управление передающей системой с помощью команд на прекращение передачи, если приёмные буферы заполнены.
4) Мультиплексирование нескольких потоков сообщений между процессами в одном логическом соединении.

*** Сеансовый уровень.

Протокольная единица --- сообщение.

Устанавливает связь или сеанс между процессами, работающими в различных системах, и поддерживает обмен данных в режиме сообщений

Функции:
1) Позволяет прикладным процессам регистрировать уникальные адреса (номера портов).
2) Установление, мониторинг и окончание сеанса по виртуальной сети.
3) Определение границ сообщений с помощью информации из заголовка.

*** Уровень представления данных

Используют данные пользователя.

Служат транслятором данных, передаваемых по сети. Преобразуют данных из формата приложения в общепринятый формат.

Функции:
1) Трансляция символов в коды.
2) Конвертирование данных.
3) Сжатие данных.
4) Шифрование.

*** Прикладной уровень

Предоставляет пользователю доступ к сетевому сервису. Сколько сервисов, столько и функций.

** Интерфейс и структура сообщений
  CLOCK: [2010-09-09 Чтв 11:49]--[2010-09-09 Чтв 13:07] =>  1:18
  
Интерфейс определяет структуру данных и алгоритм обмена данными между соседними уровнями одной системы.

Многоуровневая организация системы для эффективного управления требует модификации сообщений на каждом уровне. Модификация заключается в добавлении заголовка и концевика, в которых содержится информация, необходимая для управления.

[[file:SiSPI_pictures/mess_strucr.png]]

** Протоколы

[[file:SiSPI_pictures/protocol.png]]

Совокупность правил взаимодействия процессов одноимённых уровней разных систем называется /протокол/.

* Топологии сетей

/Топология/ --- геометрическая форма или физическая связанность сети.

** Шина (Bus)

[[file:SiSPI_pictures/bus.png]]

Преимущества:
+ гибкость и открытость;
+ простота управления.

Недостатки:
- в случае отказа канала вся сеть не функционирует;
- пропускная способность делится между всеми абонентами сети;
- длина шина ограничена мощностью сигнала;
- если два узла начинают передавать одновременно, то возникает ошибка.

** Кольцо (Ring)

[[file:SiSPI_pictures/ring.png]]

Преимущества:
+ сигнал усиливается каждым промежуточным узлом, т. е. размер кольца может быть очень большим;
+ чёткий географический приоритет между станциями;
+ эффективное использование пропускной способности;
+ невозможность коллизий или столкновений.

Недостатки:
- выход из строя любого абонента приведёт к неработоспособности сети;
- низкая открытость сети.

** Звезда (Star)

[[file:SiSPI_pictures/star.png]]

Достоинства:
+ выход из строя абонента или кабеля этого абонента не влияет на работоспособность сети (лёгкая локализация неисправностей сети);
+ централизованное управление, отсутствие перегрузок и конфликтов.

Недостатки:
- требования к центральному узлу повышены и по надёжности и по работоспособности;
- количество абонентов в сети ограничено.

** Дерево (Tree)

[[file:SiSPI_pictures/tree.png]]

Разновидность топологии "звезда". По такой топологии обычно реализуется управление в больших сетях.

** Сеть (Network)

Представляет собой древовидную топологию, в которой добавлены резервные или альтернативные связи до отдельных узлов.

* Методы коммутации

По способам передачи данных различают сети с коммутацией каналов, с коммутацией сообщений и с коммутацией пакетов.

** Сеть с коммутацией каналов

Рисунок 7

Для передачи данных необходимо установление между пользователями прямого физического соединения.

Достоинства:
+ работа в режиме реального времени и полностью используют пропускную способность всех каналов; 
+ эффективна при передаче больших объёмов данных.

Недостатки:
- система работает с отказами, т. е. необходимо дожидаться освобождения линии связи;
- невозможность приоритетной передачи данных;
- неэффективна при передаче небольших объёмов данных.

** Сеть с коммутацией сообщений

Рисунок 8

Сообщение снабжается заголовком, в котором указывается получатель и передаётся последовательно от узла коммутации к узлу.

Достоинства:
+ нет сигналов "занято" или отказов сети;
+ возможность приоритетной передачи;

Недостатки:
- нет режима реального времени;
- неэффективна для передачи больших сообщений (может не хватить памяти в буферах).

** Сеть с коммутацией пакетов

Рисунок 9

Каждое сообщение разбивается на пакеты. Каждый пакет имеет заголовок, содержащий достаточно информации для нахождения адресата, и каждый пакет независимым образом отправляется по сети.

Достоинства:
+ требования к промежуточным узлам снижаются;
+ возможна приоритетная передача;
+ в случае отказа части сети может быть найден альтернативный маршрут.

Недостатки:
- возможна потери пакетов;
- пакеты могут прийти в неправильном порядке;
- количество служебной части пакета достаточно велико.

* Физический уровень ТКС
  CLOCK: [2010-09-16 Чтв 11:42]--[2010-09-16 Чтв 12:59] =>  1:17

** Свойства кабеля

1) Исполнение кабеля (пожаростойкость). /Пленум/ --- пространство между полом и потолком, либо между стенами, которое служит для вентиляции и теплоизоляции и может быть использовано для прокладки кабельной системы. Кабель в пленумном исполнении имеет оболочку, которая не горит и не выделяет при нагревании токсичных газов. Обычно эта оболочка делается из тефлона.
2) Диаметр сечения жилы кабеля. Для указания диаметра используется класс AWG.
3) Наличие экрана кабеля. Экран кабеля используется для защиты от внешнего электромагнитного поля. Экран может быть выполнен 2 способами:
   - с помощью сетки (плетёный) --- лучше экранирование;
   - с помощью спирально намотанной фольги --- легче гнётся.
4) Категория кабеля. Совокупность характеристик, необходимых пользователю.

** Стандарт ANSI/EIA/TIA-T568-A-1991

Стандарт T-568 определяет кабельную систему для передачи данных и для офисных коммуникаций. Он позволяет использовать для этих целей следующие типы кабелей:
1) Неэкранированная витая пара (UTP) с волновым сопротивлением 100 Ом и диаметром сечения жилы 22/24 AWG.
2) Экранированная витая пара (STP) с волновым сопротивлением 150 Ом.
3) Одномодовое оптоволокно (SMF) с диаметром внутренней жилы и оплётки 8,3/125 мкн.
4) Многомодовое оптоволокно (MMF) с диаметром внутренней жилы и оплётки 62,5/125 мкн.

Для каждого кабеля определены следующие элементы:
1) Характеристики, позволяющие определить уровень производительности.
2) Топологию и длину сегментов кабеля.
3) Спецификации коннекторов и схемы расположения выводов.

Документ также включает правила для прокладки кабеля внутри здания. Здание разделяется на несколько подсистем.
1) Вход в здание. Это место, в котором сопрягаются внутренняя и внешняя кабельные системы.
2) Аппаратная комната. Отдельное помещение, в котором располагается телекоммуникационное оборудование, являющееся интерфейсом между магистральной и горизонтальной кабельной системой.
3) Телекоммуникационный шкаф. Место расположения телекоммуникационного оборудования в помещении или коридоре.
4) Магистраль. Кабельная система, соединяющая аппаратные комнаты, телекоммуникационные шкафы и точки входа в здание.
5) Горизонтальная кабельная разводка. Кабельная система и аппаратное обеспечение, используемое для соединения телекоммуникационных шкафов и аппаратных комнат с рабочей областью.
6) Рабочая область. Компоненты для присоединения телекоммуникационных отводов к рабочим станциям.

** Стандарт ISO 11801E-1995

В стандарте добавлены несколько типов кабелей, применяемых в европейских коммуникациях.

** Коаксиальный кабель
   CLOCK: [2010-09-23 Чтв 11:57]--[2010-09-23 Чтв 13:15] =>  1:18

| Маркировка | Диаметр | Затух. | Коннектор | $\rho$ | Тип               |
|------------+---------+--------+-----------+--------+-------------------|
| RG-8/U     | 0.405"  |    1.9 | N         |     50 | Thick Eth 10base5 |
| RG-58A/U   | 0.195"  |    4.5 | BNC       |     50 | Thin Eth 10base2  |
| RG-6/U     | 0.242"  |    3.4 | F         |     45 | Cable TV          |

/U --- центральная жила сплошная.
A/U --- центральная жила плетёная.

Достоинства сетей с коаксиальным кабелем:
+ большая длина сегмента;
+ дешевизна кабеля, лёгкость монтажа;
+ малый расход кабеля.

Недостатки:
- Максимальная скорость передачи данных 10 Мб/сек.

1) Толстый Ethernet
2) Тонкий Ethernet

** Кабели на основе витой пары

*** Типы кабелей, применяемых в сетях

1) UTP --- неэкранированная витая пара.
2) FTP (F/UTP) --- присутствует общий внешний экран из фольги.
3) STP --- присутствует защита каждой пары и общий экран всего кабеля в виде сетки.
4) SFTP --- внешний экран из сетки и каждая пара в фольге.
5) SF/UTP --- внешний экран из сетки и фольги. Каждая пара без защиты.

| Категория | ПЧ         | Тип сети                        |
|-----------+------------+---------------------------------|
| Cat 1     | до 100 кГц | 1PR ТЛФ, сигнализ.              |
| Cat 2     | до 1 МГц   | 2PR TokenRing, ArcNet (4Мб/сек) |
| Cat 3     | до 16 МГц  | 4PR 10BaseT, 100BaseT4          |
| Cat 4     | до 20 МГц  | 4PR TokenRing(16 Мб/сек)        |
| Cat 5     | до 100 МГц | 4PR 100BaseTX                   |
|-----------+------------+---------------------------------|
| Cat 5e    | 125 МГЦ    | 4PR 100BaseTX, 1000BaseTX       |
| Cat 6     | до 250 МГц | 4PR 1000 Мб/сек                 |
| Cat 6a    | до 500 МГц | 10 Гб/сек                       |
| Cat 7     | до 700     | S/FTP 4PR                       |

*** Обжим коннектора

8P8C
|   |      | T568A | T568B |
|---+------+-------+-------|
| 1 | Tx + | БС    | БО    |
| 2 | Tx - | С     | О     |
| 3 | Rx + | БО    | БС    |
| 4 |      | З     | З     |
| 5 |      | БЗ    | БЗ    |
| 6 | Rx - | О     | С     |
| 7 |      | БК    | БК    |
| 8 |      | К     | К     |

Если сегмент кабеля используется для подключения компьютера к сетевому оборудованию, применяется прямой способ обжима кабеля, когда каждый конец обжимается одинаково.

Если сегмент кабеля используется для соединения двух компьютеров, применяется кроссовое соединение кабеля, в котором на одном из концов сегмента приёмные и передающие пары меняются местами.

*** Топология сети

В центре сети ставится сетевое устройство --- свитч или хаб. Каждое устройство подключается отдельным сегментом. Максимальная длина сегмента 100 м.

Если скорость сети 10 Мб/сек, то количество последовательно соединённых сетевых устройств равно 4.

Для скорости 100 Мб/сек всё зависит от способности сетевого устройства.

** Оптоволокно

*** Физические способности

1) Широкополосность кабеля.
2) Малые затухания сигнала в оптоволокне.
3) Помехозащищённость и отсутствие влияния внешних электромагнитных полей.
4) По волокну могут распространятся оптические сигналы разной поляризации без взаимного влияния друг на друга. Возможна дуплексная передача.

** Разновидности кодов
   CLOCK: [2010-09-30 Чтв 12:12]

*** NRZ

[[file:SiSPI_pictures/NRZcode.png]]

Является простейшим кодом и представляет собой обычный цифровой сигнал. Логическому нулю соответствует низкий уровень сигнала в пределах битового интервала, а логической единице --- высокий.

10 Мб/с -> 1010 - 5 МГц. От 0 до 5 МГц.

Достоинства:
+ нет необходимости использовать дополнительное оборудование для  передачи;
+ низкая требуемая полоса пропускания кабеля.

Недостатки:
- обнаружить передачу при передаче большой последовательности нулей невозможно;
- невозможность передавать длинные последовательности из-за рассинхронизации передатчика и приёмника.
- из-за наличия постоянной составляющей в коде невозможно обеспечить гальваническую развязку устройств и линий связи с помощью трансформатора.

*** RZ

[[file:SiSPI_pictures/RZcode.png]]

Трёхуровневый код, в котором каждый битовый интервал разбивается на два отрезка. В первой половине передаётся значащий уровень сигнала, а во второй половине нулевой. Логическому нулю соответствует положительный переход с низкого на высокий, логической единице отрицательный.

10 Мб/с -> 10 МГц.

Достоинства:
+ код самосинхронизирующийся. По переходу в центре бита синхронизируются приёмник и передатчик;
+ отсутствует постоянная составляющая.

Недостатки:
- три уровня;
- сложность оборудования;
- большая требуемая полоса пропускания.

Такой можно использовать в оптоволоконных сетях из-за того, что уровень там довольно постоянный, причём высокому уровню соответствует сильный свет, нулевому средний свет, низкому отсутствие света.

*** MII

[[file:SiSPI_pictures/Manchester_code.png]]
TODO Картинку проверить

Двухуровневый код. Внутри каждого битового интервала присутствует переход. Логическому нулю соответствует положительный переход, логической единице отрицательный.

10 Мб/с -> 111, 000 - 10 МГц. 101 - 5 МГц.

Достоинства:
+ самосинхронизирующийся двухуровневый код;
+ 2 полосовых фильтра на 5 и 10 МГц отфильтровывают помехи постоянной составляющей в канале;
+ для определения занятости канала необходимо контролировать несущую в течение одного битового интервала;
+ для гальванической развязки можно использовать импульсный трансформатор.

Недостатки:
- большая требуемая полоса частот.

*** Разностный манчестер

[[file:SiSPI_pictures/Differential_manchester_encoding.png]]

Значение бита определяется по наличию перехода в начале битового интервала. Логический ноль --- переход в начале есть, логическая единица --- перехода в начале нет. В центре битового интервала переход есть всегда.

В современных сетях со скоростями 100 Мб и выше главным требованием к коду является малая полоса пропускания. Поэтому в таких сетях используются разновидности кода NRZ --- MLT3, NRZi и дополнительные кодовые преобразования 4B/5B.

MLT3 --- трёхуровневый код, в котором ноль повторяет предыдущее состояние среды, а единица изменяет состояние среды по следующему закону +U 0, -U 0.

Узнать про MLT3, NRZi и дополнительные кодовые преобразования 4B/5B (62B/64B).
