#+TITLE: Системы и сети передачи информации
#+AUTHOR: Максим Захаров
#+STARTUP: indent
#+INFOJS_OPT: path:other/org-info.js view:content ltoc:nil ftoc:t tdepth:1
#+INCLUDE: "other/metrika.org"

[[file:index.org][На главную]] | [[file:other/SiSPI_Lectures.pdf][Сохранить в PDF]]

* Логическая многоуровневая организация ЗТКС
  CLOCK: [2010-09-02 Чтв 11:58]--[2010-09-02 Чтв 13:17] =>  1:19

Организация ТКС должна удовлетворять следующим требованиям.
1) Открытость. Возможность подключения дополнительных узлов, абонентов, линий связи без изменения существующих технических и программных средств.
2) Гибкость. Сохранение работоспособности при изменении структуры системы (при выходе из строя отдельных компонентов).
3) Эффективность. Обеспечение требуемого качества обслуживания абонентов при минимальных затратах.
  
** Процессы

1) Прикладные процессы выполняют задачи пользователя.
2) Системные выполняют вспомогательные функции, обеспечивающие функционирование прикладных процессов.

Ввод и вывод данных, необходимых процессу, производится *сообщениями* через программно-организованные логические точки, называемые порты.

** Модель взаимодействия открытых систем

В 1978 году международная организация по стандартизации ISO ввела новую модель стандартов, которая получила название "модель взаимодействия открытых систем" --- ISO/OSI.

Данная модель обладала следующими особенностями:
1) Является стандартом в передаче данных, позволяющим системам различных производителей устанавливать сетевые соединения.
2) Состоит из 7 уровней со специфическим набором функций и включает описание межуровневых интерфейсов.
3) Определяет набор протоколов и интерфейсов для каждого уровня.

** Функции уровней модели OSI

*** Физический уровень

Контролирует путь, по которому поток битов данных передаётся и принимается из физической среды передачи. Он определяет электрический, оптический, электромагнитный и механический интерфейс для передающей среды. Он принимает сигналы из среды передачи и преобразует их в цифровые данные, которые используют все вышележащие уровни.

*** Канальный уровень

Обеспечивает безошибочную передачу кадров данных между системами через физический уровень.

Выполняет следующие функции:
1) Установление и разрыв связи между двумя системами, определёнными адресами их сетевых адаптеров (MAC-адрес).
2) Последовательная передача и приём кадров.
3) Проверка правильности данных в принятых кадрах и подтверждение успешного приёма кадров (функция квитирования).
4) Ожидание подтверждения приёма кадра; инициализация повторной передачи кадра; разрешение вопросов, связанных с дублированием кадров.
5) Определение границ кадров.
6) Управление доступом в передающую среду путём определения оптимального момента начала передачи.
7) Анализ пункта назначения принятого кадра.

Протоколы канального уровня называются протоколами прямой передачи или пиринговые протоколы. Они устанавливают соединения только с непосредственными соседями в сети, с которыми у них общая среда передачи.

*** Сетевой уровень

Контролирует работу сети. Он определяет какой физический путь должны пройти данные исходя из логического адреса получателя. Протокольная единица --- пакет.

Функции:
1) Передача пакета маршрутизатору в том случае, если сетевой адрес пункта назначения не находится в той же подсети, что и отправитель.
2) Установление однозначной связи логического адреса на сетевом уровне и физического адреса на канальном --- ARP.
3) Возможность использования альтернативного маршрута в случае отказа основного маршрутизатора.
4) Управление фрагментацией пакетов.
5) Возможность учёта количества переданных пакетов для работы биллинговой системы.

*** Транспортный уровень

Протокольная единица --- сегмент/дейтаграмма.

Гарантирует доставку сообщений в том порядке, в каком они были посланы. Гарантирует отсутствие потерь и дублирования информации.

Функции:
1) Приём сообщений с вышележащего уровня и, при необходимости, разбивка их на сегменты.
2) Обеспечение надёжной и гарантированной доставки сообщений и подтверждение успешного приёма.
3) Управление передающей системой с помощью команд на прекращение передачи, если приёмные буферы заполнены.
4) Мультиплексирование нескольких потоков сообщений между процессами в одном логическом соединении.

*** Сеансовый уровень.

Протокольная единица --- сообщение.

Устанавливает связь или сеанс между процессами, работающими в различных системах, и поддерживает обмен данных в режиме сообщений

Функции:
1) Позволяет прикладным процессам регистрировать уникальные адреса (номера портов).
2) Установление, мониторинг и окончание сеанса по виртуальной сети.
3) Определение границ сообщений с помощью информации из заголовка.

*** Уровень представления данных

Используют данные пользователя.

Служат транслятором данных, передаваемых по сети. Преобразуют данных из формата приложения в общепринятый формат.

Функции:
1) Трансляция символов в коды.
2) Конвертирование данных.
3) Сжатие данных.
4) Шифрование.

*** Прикладной уровень

Предоставляет пользователю доступ к сетевому сервису. Сколько сервисов, столько и функций.

** Интерфейс и структура сообщений
  CLOCK: [2010-09-09 Чтв 11:49]--[2010-09-09 Чтв 13:07] =>  1:18
  
Интерфейс определяет структуру данных и алгоритм обмена данными между соседними уровнями одной системы.

Многоуровневая организация системы для эффективного управления требует модификации сообщений на каждом уровне. Модификация заключается в добавлении заголовка и концевика, в которых содержится информация, необходимая для управления.

[[file:images/SiSPI/mess_strucr.png]]

** Протоколы

[[file:images/SiSPI/protocol.png]]

Совокупность правил взаимодействия процессов одноимённых уровней разных систем называется /протокол/.

* Топологии сетей

/Топология/ --- геометрическая форма или физическая связанность сети.

** Шина (Bus)

[[file:images/SiSPI/bus.png]]

Преимущества:
+ гибкость и открытость;
+ простота управления.

Недостатки:
- в случае отказа канала вся сеть не функционирует;
- пропускная способность делится между всеми абонентами сети;
- длина шина ограничена мощностью сигнала;
- если два узла начинают передавать одновременно, то возникает ошибка.

** Кольцо (Ring)

[[file:images/SiSPI/ring.png]]

Преимущества:
+ сигнал усиливается каждым промежуточным узлом, т. е. размер кольца может быть очень большим;
+ чёткий географический приоритет между станциями;
+ эффективное использование пропускной способности;
+ невозможность коллизий или столкновений.

Недостатки:
- выход из строя любого абонента приведёт к неработоспособности сети;
- низкая открытость сети.

** Звезда (Star)

[[file:images/SiSPI/star.png]]

Достоинства:
+ выход из строя абонента или кабеля этого абонента не влияет на работоспособность сети (лёгкая локализация неисправностей сети);
+ централизованное управление, отсутствие перегрузок и конфликтов.

Недостатки:
- требования к центральному узлу повышены и по надёжности и по работоспособности;
- количество абонентов в сети ограничено.

** Дерево (Tree)

[[file:images/SiSPI/tree.png]]

Разновидность топологии "звезда". По такой топологии обычно реализуется управление в больших сетях.

** Сеть (Network)

Представляет собой древовидную топологию, в которой добавлены резервные или альтернативные связи до отдельных узлов.

* Методы коммутации

По способам передачи данных различают сети с коммутацией каналов, с коммутацией сообщений и с коммутацией пакетов.

** Сеть с коммутацией каналов

Рисунок 7

Для передачи данных необходимо установление между пользователями прямого физического соединения.

Достоинства:
+ работа в режиме реального времени и полностью используют пропускную способность всех каналов; 
+ эффективна при передаче больших объёмов данных.

Недостатки:
- система работает с отказами, т. е. необходимо дожидаться освобождения линии связи;
- невозможность приоритетной передачи данных;
- неэффективна при передаче небольших объёмов данных.

** Сеть с коммутацией сообщений

Рисунок 8

Сообщение снабжается заголовком, в котором указывается получатель и передаётся последовательно от узла коммутации к узлу.

Достоинства:
+ нет сигналов "занято" или отказов сети;
+ возможность приоритетной передачи;

Недостатки:
- нет режима реального времени;
- неэффективна для передачи больших сообщений (может не хватить памяти в буферах).

** Сеть с коммутацией пакетов

Рисунок 9

Каждое сообщение разбивается на пакеты. Каждый пакет имеет заголовок, содержащий достаточно информации для нахождения адресата, и каждый пакет независимым образом отправляется по сети.

Достоинства:
+ требования к промежуточным узлам снижаются;
+ возможна приоритетная передача;
+ в случае отказа части сети может быть найден альтернативный маршрут.

Недостатки:
- возможна потери пакетов;
- пакеты могут прийти в неправильном порядке;
- количество служебной части пакета достаточно велико.

* Физический уровень ТКС

** Свойства кабеля

1) Исполнение кабеля (пожаростойкость). /Пленум/ --- пространство между полом и потолком, либо между стенами, которое служит для вентиляции и теплоизоляции и может быть использовано для прокладки кабельной системы. Кабель в пленумном исполнении имеет оболочку, которая не горит и не выделяет при нагревании токсичных газов. Обычно эта оболочка делается из тефлона.
2) Диаметр сечения жилы кабеля. Для указания диаметра используется класс AWG.
3) Наличие экрана кабеля. Экран кабеля используется для защиты от внешнего электромагнитного поля. Экран может быть выполнен 2 способами:
   - с помощью сетки (плетёный) --- лучше экранирование;
   - с помощью спирально намотанной фольги --- легче гнётся.
4) Категория кабеля. Совокупность характеристик, необходимых пользователю.

** Стандарт ANSI/EIA/TIA-T568-A-1991

Стандарт T-568 определяет кабельную систему для передачи данных и для офисных коммуникаций. Он позволяет использовать для этих целей следующие типы кабелей:
1) Неэкранированная витая пара (UTP) с волновым сопротивлением 100 Ом и диаметром сечения жилы 22/24 AWG.
2) Экранированная витая пара (STP) с волновым сопротивлением 150 Ом.
3) Одномодовое оптоволокно (SMF) с диаметром внутренней жилы и оплётки 8,3/125 мкн.
4) Многомодовое оптоволокно (MMF) с диаметром внутренней жилы и оплётки 62,5/125 мкн.

Для каждого кабеля определены следующие элементы:
1) Характеристики, позволяющие определить уровень производительности.
2) Топологию и длину сегментов кабеля.
3) Спецификации коннекторов и схемы расположения выводов.

Документ также включает правила для прокладки кабеля внутри здания. Здание разделяется на несколько подсистем.
1) Вход в здание. Это место, в котором сопрягаются внутренняя и внешняя кабельные системы.
2) Аппаратная комната. Отдельное помещение, в котором располагается телекоммуникационное оборудование, являющееся интерфейсом между магистральной и горизонтальной кабельной системой.
3) Телекоммуникационный шкаф. Место расположения телекоммуникационного оборудования в помещении или коридоре.
4) Магистраль. Кабельная система, соединяющая аппаратные комнаты, телекоммуникационные шкафы и точки входа в здание.
5) Горизонтальная кабельная разводка. Кабельная система и аппаратное обеспечение, используемое для соединения телекоммуникационных шкафов и аппаратных комнат с рабочей областью.
6) Рабочая область. Компоненты для присоединения телекоммуникационных отводов к рабочим станциям.

** Стандарт ISO 11801E-1995

В стандарте добавлены несколько типов кабелей, применяемых в европейских коммуникациях.

** Коаксиальный кабель
   CLOCK: [2010-09-23 Чтв 11:57]--[2010-09-23 Чтв 13:15] =>  1:18

| Маркировка | Диаметр | Затух. | Коннектор | $\rho$ | Тип               |
|------------+---------+--------+-----------+--------+-------------------|
| RG-8/U     | 0.405"  |    1.9 | N         |     50 | Thick Eth 10base5 |
| RG-58A/U   | 0.195"  |    4.5 | BNC       |     50 | Thin Eth 10base2  |
| RG-6/U     | 0.242"  |    3.4 | F         |     45 | Cable TV          |

/U --- центральная жила сплошная.
A/U --- центральная жила плетёная.

Достоинства сетей с коаксиальным кабелем:
+ большая длина сегмента;
+ дешевизна кабеля, лёгкость монтажа;
+ малый расход кабеля.

Недостатки:
- Максимальная скорость передачи данных 10 Мб/сек.

1) Толстый Ethernet
2) Тонкий Ethernet

** Кабели на основе витой пары

*** Типы кабелей, применяемых в сетях

1) UTP --- неэкранированная витая пара.
2) FTP (F/UTP) --- присутствует общий внешний экран из фольги.
3) STP --- присутствует защита каждой пары и общий экран всего кабеля в виде сетки.
4) SFTP --- внешний экран из сетки и каждая пара в фольге.
5) SF/UTP --- внешний экран из сетки и фольги. Каждая пара без защиты.

| Категория | ПЧ         | Тип сети                        |
|-----------+------------+---------------------------------|
| Cat 1     | до 100 кГц | 1PR ТЛФ, сигнализ.              |
| Cat 2     | до 1 МГц   | 2PR TokenRing, ArcNet (4Мб/сек) |
| Cat 3     | до 16 МГц  | 4PR 10BaseT, 100BaseT4          |
| Cat 4     | до 20 МГц  | 4PR TokenRing(16 Мб/сек)        |
| Cat 5     | до 100 МГц | 4PR 100BaseTX                   |
|-----------+------------+---------------------------------|
| Cat 5e    | 125 МГЦ    | 4PR 100BaseTX, 1000BaseTX       |
| Cat 6     | до 250 МГц | 4PR 1000 Мб/сек                 |
| Cat 6a    | до 500 МГц | 10 Гб/сек                       |
| Cat 7     | до 700     | S/FTP 4PR                       |

*** Обжим коннектора

8P8C
|   |      | T568A | T568B |
|---+------+-------+-------|
| 1 | Tx + | БС    | БО    |
| 2 | Tx - | С     | О     |
| 3 | Rx + | БО    | БС    |
| 4 |      | З     | З     |
| 5 |      | БЗ    | БЗ    |
| 6 | Rx - | О     | С     |
| 7 |      | БК    | БК    |
| 8 |      | К     | К     |

Если сегмент кабеля используется для подключения компьютера к сетевому оборудованию, применяется прямой способ обжима кабеля, когда каждый конец обжимается одинаково.

Если сегмент кабеля используется для соединения двух компьютеров, применяется кроссовое соединение кабеля, в котором на одном из концов сегмента приёмные и передающие пары меняются местами.

*** Топология сети

В центре сети ставится сетевое устройство --- свитч или хаб. Каждое устройство подключается отдельным сегментом. Максимальная длина сегмента 100 м.

Если скорость сети 10 Мб/сек, то количество последовательно соединённых сетевых устройств равно 4.

Для скорости 100 Мб/сек всё зависит от способности сетевого устройства.

** Оптоволокно

*** Физические способности

1) Широкополосность кабеля.
2) Малые затухания сигнала в оптоволокне.
3) Помехозащищённость и отсутствие влияния внешних электромагнитных полей.
4) По волокну могут распространятся оптические сигналы разной поляризации без взаимного влияния друг на друга. Возможна дуплексная передача.

** Разновидности кодов
   CLOCK: [2010-09-30 Чтв 12:12]

*** NRZ

[[file:images/SiSPI/NRZcode.png]]

Является простейшим кодом и представляет собой обычный цифровой сигнал. Логическому нулю соответствует низкий уровень сигнала в пределах битового интервала, а логической единице --- высокий.

10 Мб/с -> 1010 - 5 МГц. От 0 до 5 МГц.

Достоинства:
+ нет необходимости использовать дополнительное оборудование для  передачи;
+ низкая требуемая полоса пропускания кабеля.

Недостатки:
- обнаружить передачу при передаче большой последовательности нулей невозможно;
- невозможность передавать длинные последовательности из-за рассинхронизации передатчика и приёмника.
- из-за наличия постоянной составляющей в коде невозможно обеспечить гальваническую развязку устройств и линий связи с помощью трансформатора.

*** RZ

[[file:images/SiSPI/RZcode.png]]

Трёхуровневый код, в котором каждый битовый интервал разбивается на два отрезка. В первой половине передаётся значащий уровень сигнала, а во второй половине нулевой. Логическому нулю соответствует положительный переход с низкого на высокий, логической единице отрицательный.

10 Мб/с -> 10 МГц.

Достоинства:
+ код самосинхронизирующийся. По переходу в центре бита синхронизируются приёмник и передатчик;
+ отсутствует постоянная составляющая.

Недостатки:
- три уровня;
- сложность оборудования;
- большая требуемая полоса пропускания.

Такой можно использовать в оптоволоконных сетях из-за того, что уровень там довольно постоянный, причём высокому уровню соответствует сильный свет, нулевому средний свет, низкому отсутствие света.

*** MII

[[file:images/SiSPI/Manchester_code.png]]
TODO Картинку проверить

Двухуровневый код. Внутри каждого битового интервала присутствует переход. Логическому нулю соответствует положительный переход, логической единице отрицательный.

10 Мб/с -> 111, 000 - 10 МГц. 101 - 5 МГц.

Достоинства:
+ самосинхронизирующийся двухуровневый код;
+ 2 полосовых фильтра на 5 и 10 МГц отфильтровывают помехи постоянной составляющей в канале;
+ для определения занятости канала необходимо контролировать несущую в течение одного битового интервала;
+ для гальванической развязки можно использовать импульсный трансформатор.

Недостатки:
- большая требуемая полоса частот.

*** Разностный манчестер

[[file:images/SiSPI/Differential_manchester_encoding.png]]

Значение бита определяется по наличию перехода в начале битового интервала. Логический ноль --- переход в начале есть, логическая единица --- перехода в начале нет. В центре битового интервала переход есть всегда.

В современных сетях со скоростями 100 Мб и выше главным требованием к коду является малая полоса пропускания. Поэтому в таких сетях используются разновидности кода NRZ --- MLT3, NRZi и дополнительные кодовые преобразования 4B/5B.

MLT3 --- трёхуровневый код, в котором ноль повторяет предыдущее состояние среды, а единица изменяет состояние среды по следующему закону +U 0, -U 0.

Узнать про MLT3, NRZi и дополнительные кодовые преобразования 4B/5B (62B/64B).

** Разновидности оборудования локальных телекоммуникационных систем

*** Повторитель (repeater)

При передаче сигнала по кабелю сигнал испытывает затухание. Для увеличения длины сегмента используются промежуточные усилители сигнала, называемые репиторы.

/Репитор/ --- двехпортовое устройство, которое принимает сигнал из одного порта, усиливает его и отправляет в другой свой порт.

Повторитель функционирует только на физическом уровне, не умеет читать данные канального уровня и выше. Следовательно не может осуществлять фильтрацию передаваемых кадров.

Повторитель формирует единую область коллизий или общую среду передачи из всех подключённых к нему сегментов.

Для сети 10 Мб/с = 4, 100 Мб/с = 1.

*** Концентратор (hub)

/Хаб/ (многопортовый повторитель) --- многопортовое устройство, выполняющее роль центрального звена в сети с топологией звезда, построенной на витой паре.

Принимает сигнал из одного порта, усиливает его и отправляет во все остальные порты.

Работает на физическом уровне, формирует единую область коллизий для всех подключённых к нему сегментов.

**** Исполнение концентраторов

1) Автономные концентраторы. Используются для формирования небольших сетей до 16 портов. Возможно отсутствует порт для соединения с другими концентраторами.
2) Наращиваемые концентраторы. Имеют возможность для соединения нескольких концентраторов друг с другом с помощью специального порта и специального короткого кабеля. Полученное устройство работает как один большой концентратор.
3) Модульные концентраторы. Представляют собой шасси, которые содержат несколько слотов для подключения отдельных портов. Шасси предоставляет для всех общий для всех источник питания и шину для взаимодействия. При этом модули могут относиться к сетям, построенным по различным технологиям.

**** Дополнительные функции концентраторов

Если концентратор функционирует на канальном уровне и может читать заголовки протокола канального уровня, он имеет следующие возможности:
1) Защита от несанкционированного подключения к порту путём привязки конкретного MAC-адреса к конкретному порту. Возможность принудительного отключения неиспользуемых портов.
2) Отключение неправильно работающих сегментов. Ошибки, которые можно контролировать:
   - связанные с длиной кадра 64...1518;
   - неверная контрольная сумма кадра, либо неправильно оформленный заголовок кадра;
   - множественные коллизии. Если порта стал источником столкновения пакетов 60 раз подряд, его отключают;
   - затянувшаяся передача. Если кадр передаётся дольше кадра максимальной длины в 3 раза;
3) Поддержка резервных связей.
4) Управление по протоколу SNMP.

*** Мост (bridge)

/Мост/ --- многопортовое устройство (друхпортовое), работающее на канальном уровне и способное разделять единую область коллизий подключённых к нему сегментов.

Мост принимает кадр из одного порта и определяет местоположение получателя этого кадра. 

Если получатель расположен в другом сегменте, мост передаёт кадр в этот сегмент. Если получатель находится в том же сегменте, что и отравитель, пакет уничтожается.

Обычные режим работы моста называется /прозрачный режим/, т.е. он не имеет собственного MAC-адреса и для сетевых устройств невидим, при этом абоненты подключённых к мосту сегментов могут одновременно передавать кадры без возможных коллизий.

Основным недостатком моста является не поддержка петлевых или кольцевых топологий сетей.

Варианты исполнения мостов:
1) Прозрачный мост. Объединяет сегменты, построенные по одинаковым технологиям. Никакого перекодирования кадра не происходит внутри порта, возможно работать без полной буферизации кадра, т. е. напрямую.
2) Преобразующий мост. Объединяет сегменты, построенные по разным технологиям. Принимает полностью кадр в буфер, присваивает ему новый заголовок канального уровня и отправляет в соответствующий сегмент.
3) Удалённый мост. Пара удалённых мостов может организовать соединение двух локальных сетей через глобальную сеть. Основной задачей является согласование высокой скорости локальной сети с низкой скоростью глобальной через:
   - большой объём буфера;
   - сжатие трафика;
   - принудительное дублирование служебного трафика.

*** Коммутатор (switch)

/Коммутатор/ --- многопортовое устройство, выполняющее роль центрального звена в сети с топологией звезда и функционирующее следующим образом.

Кадр принимается из одного порта и отправляется в порт, к которому подключён получатель. При этом коммутатор может обеспечивать несколько соединений пар портов.

Любое соединение коммутаторов двух портов аналогично выделенному соединению точка-точка и обеспечивается максимальной пропускной способностью сети.

**** Конструкции коммутаторов

Каждый порт коммутатора обслуживает собственный процессор, называемый EPP (ethernet port processor). Координирует работу всех процессоров системный модуль, в котором есть дополнительный процессор --- центральный и коммутационная матрица, в которой хранятся соответствия MAC-адресов и портов.

Коммутационная матрица формируется динамически в процессе работы коммутатора, т. е. при начальном включении коммутатор работает как хаб.

Объединение процессоров возможно тремя способами:
1) Использование коммутационной матрицы. Каждому кадру при поступлении в коммутатор присваивается т. н. тег --- это комбинация бит, которая определяет адрес порта назначения. Такая матрица реализуется в виде микросхемы и наибольшее распространение получила матрица с 3 уровнями вентилей.
2) Использование внутренней высокоскоростной шины. Используется общая шина с разделением времени.
3) Использование разделяемой памяти. 

**** Дополнительные функции коммутаторов

Существует 2 разновидности коммутаторов:
1) На лету (on fly). В этом случае коммутатор передаёт пакет без задержки. При этом дополнительные функции коммутатора не поддерживаются и количество коммутаторов в сети накладывается тоже ограничения, что и на концентраторы.
2) С буферизацией. Могут полностью сохранять кадр во внутренней памяти и дополнительно позволяют выполнять следующие функции:
   - отбрасывание бракованных кадров;
   - поддержка полнодуплексного режима передачи (full duplex). Кадр передаётся по одному кабелю и каждое устройство может исправить принимаемый сигнал, зная передаваемый. При этом скорость обеспечивается до 200 Мб/сек;
   - поддержка виртуальных локальных сетей (VLAN). Позволяет выделить несколько групп портов коммутатора, которые будут изолированы друг от друга. Коммутация между этими группами портов осуществляться не будет. Связь между VLAN может быть организована только с помощью коммутаторов на сетевом уровне. Один порт может входить одновременно в несколько VLANов;
   - поддержка алгоритма покрывающего дерева (spaning tree). Коммутатор запрещает кольцевые топологии, петлевые маршруты и резервные линии. При первоначальном включении коммутаторов с поддержкой покрывающего дерева, они с помощью обмена служебными пакетами автоматически находят все резервные или петлевые связи и строится логическая иерархическая топология поверх существующей. Все связи, которые не вошли в эту топологию объявляются резервными и соответствующие порты закрываются. В случае, если одна из основных связей нарушается, покрывающее дерево строится заново, включая в себя резервные связи;
   - т. к. коммутатор выступает в качестве получателя кадра, ограничение по количеству коммутаторов в сети снимается.

Недостатки коммутаторов --- работа с широковещательным трафиком.

*** Маршрутизатор (router)

/Шлюз/ --- сетевое устройство, имеющее более одного сетевого интерфейса.

/Роутер/ --- шлюз, умеющий маршрутизировать сетевые пакеты между сетевыми интерфейсами.

Маршрутизатор функционируем не выше сетевого уровня, следовательно информации, передаваемой протоколом сетевого уровня должно быть достаточно для нахождения получателя пакетов.

Существует 3 алгоритма маршрутизации:
1) Маршрутизация от источника. В этом случае в маршрутной таблице хранятся сведения о всех промежуточных узлах на пути следования пакетов, либо эта информация передаётся в самом пакете. Используется в статичных сетях, т. е. где количество абонентов фиксировано и связи определены.
2) Одношаговая маршрутизация. В маршрутной таблице хранятся сведения только о следующем маршрутизаторе или о следующем шаге маршрута. Next Gateway.
3) Случайная маршрутизация. Маршрутных таблиц не создаётся, а каждый пакет отправляется в один из подключённых сетевых интерфейсами.

Существует 2 способа формирования маршрутных таблиц:
1) Статическая маршрутизация. Каждая маршрутная таблица формируется вручную администратором.
2) Динамическая маршрутизация. Маршрутизаторы самостоятельно обмениваются маршрутными таблицами с помощью специальных протоколов --- RIP, OSPF.

**** Дополнительные функции маршрутизаторов

1) Отбрасывание бракованных сетевых пакетов. Бракованным пакетом считается пакет, у которого закончился TTL (измеряется в hop'ах). Каждый маршрутизатор вычитает из поля TTL единицу.
2) Фрагментация пакетов. Для каждой сети, подключённой к маршрутизатору он определяет MTU (максимально передаваемый блок) и при передаче большого пакета в сеть с маленьким MTU, он фрагментирует его средствами протокола сетевого уровня. Сбор пакета из фрагмента осуществляется у конечного получателя.

Вместо SNMP используется ICMP.

* Канальный уровень в модели OSI

** Методы множественного доступа станций к общему каналу

1) Случайный множественный доступ.
   - бесконтрольный;
   - бесконтрольный с тактированием;
   - множественный с обнаружением передачи (МДОП);
   - множественный с контролем столкновений (МДКС);
   - МДОП/КС
2) Детерминированный множественный доступ.
   - синхронное разделение времени;
   - асинхронное разделение времени;
   - передача полномочий.
3) Комбинированный множественный доступ.
   - СМД -> ДМД;
   - ДМД -> СМД;
   - гибридный доступ.

*** Случайный множественный доступ

Все станции сети равноправны и каждая станция самостоятельно определяет момент начала передачи.

Достоинства:
+ надёжность;
+ гибкость;
+ открытость.

Недостатки: возможное столкновение пакетов.

Достоинства:
+ станции равноправны и независимы друг от друга.
+ надёжность высокая. Алгоритм децентрализован.
+ возможность включения станций в работающую сеть.
+ при низкой загрузке сети высокая пропускная способность.

Недостатки:
- при высокой загрузке сети низкая пропускная способность.
- отсутствие гарантированного времени доступа в сеть.
- невозможность приоритетного доступа в сеть.

**** Бесконтрольный метод. "Чистая" ALOHA

1. Необходимость передачи кадра.
2. Станция передаёт кадр.
3. Станция принимает кадр и проверяет на наличие ошибок.
4. Если в кадре ошибка.
5. Ошибок нет. Станция отсылает положительную квитанцию, подтверждающая успешный приём.
6. Ошибки есть. Станция ничего не отсылает. Положение тайм-аут.
7. Необходимость повторной передачи кадра.

При 50% загрузке сети, количество успешно принятых кадров ~18,6%.

**** Бесконтрольный с тактированием. Синхронная ALOHA

Все станции синхронизированы и начало передачи кадра возможно при получении тактового импульса.

1. Необходимость передачи кадра.
2. Станция ожидает появления тактового импульса.
3. Станция дождалась появления тактового импульса.
4. Станция передаёт кадр.
5. Необходимость повторной передачи кадра.

Для 50% загрузки сети количество успешно переданных кадров 37.2%.

**** Множественный с обнаружением передачи (МДОП)

Станция имеет возможность контролировать занятость канала перед началом передачи.

1. Необходимость передачи кадра.
2. Станция прослушивает канал.
3. Канал свободен.
4. Станция передаёт кадр.

При 50% загрузке 80% успешно переданных кадров.

Существует 3 стратегии поведения станции при контроле занятости канала:
1) Ненастойчивый МДОП. Если канал свободен, станция сразу передаёт кадр. Если канал занят, станция откладывает повторную проверку канала на определённый или случайный промежуток времени.
2) 1-настойчивый МДОП. Если канала занят, станция настойчиво ждёт его освобождения, после чего с вероятностью 1 передаёт кадр. Если освобождения канал ждут несколько станций вероятностью столкновения 1.
3) p-настойчивый МДОП. Станция настойчиво ждёт освобождения канала, после чего с вероятностью p передаёт кадр в канал. Изменяя значение p, в зависимости от загрузки сети, можно добиться приемлемых показателей вероятности столкновения кадров.

**** Множественный достоинства с контролем столкновений (МДКС)

Станция имеет возможность контролировать канал во время передачи своего кадра. Если передаваемые значения битов не совпадают с принимаемыми из канала, считается, что произошло столкновение.

1. Необходимость передачи кадра.
2. Станция передаёт кадр и прослушивает канал.
3. Условие. Обнаружено ли столкновение в канале.
4. Столкновения нет. Кадр передаётся до конца.
5. Столкновения есть. Станция прерывает передачу кадра.
6. Необходимость повторной передачи.

*** Детерминированные методы доступа

**** Синхронное разделение времени

Время работы сети циклически делится на число интервалов соответствующих числу станций подключённых к каналу. Каждой станции во время цикла предоставляется интервал времени, в течение которого она может использовать канал для передачи кадров. Если станции нечего передавать, его интервал не используется.

**** Асинхронное разделение времени

Каждая станция в цикле получает различный интервал времени для передачи, размер которого определяется либо статистически по загруженности станций, либо размер определяется запрашиваемым и оплаченным станцией сервером.

Достоинства методов разделения времени:
+ нет столкновений;
+ при 100% загруженности сети пропускная способность канала будет использоваться полностью;
+ гарантированное время доступа в сеть;
+ возможность приоритетного доступа в сеть.

Недостатки:
- неэффективно используется пропускная способность при неполной загрузке;
- низкая надёжность из-за наличия диспетчера.

**** Метод передачи полномочий

В сети циркулирует специальный пакет, который даёт станции полномочия на передачу кадров в канал.

Если станция получает полномочия, она передаёт разрешённое количество кадров в канал, а затем отдаёт полномочия следующей станции. Если станции нечего передавать, она сразу расстаётся с полномочиями.

Достоинства:
+ более эффективное использование пропускной способности;
+ повышается надёжность из-за отсутствия диспетчера;
+ возможна приоритетная передача.

Недостатки:
- возможность потери или дублирования полномочий;
- низкая гибкость и открытость сети.

*** Комбинированные методы доступа

Сочетают достоинства случайных и детерминированных методов доступа, т. е. при низкой загрузке сети преимущественно используется случайный множественный доступ, а при высокой детерминированный.

**** Детерминированный доступ с переходом в случайный

Каждой станции циклически предоставляется временное окно для передачи. Каждое окно состоит из 2 интервалов:
- интервал управления;
- интервал передачи.

Алгоритм:
1. Временное окно получило i станция.
2. Есть ли кадр для передачи.
3. В интервал управления станция передаёт служебный кадр о занятости окна.
4. В интервал передачи станция передаёт кадр.
5. Если у станции нет кадра. Станция молчит в интервале управления.
6. Между остальными станциями реализуется СМД в интервал передачи.
7. Временное окно получает i+1 станция.

**** Случайный доступ с переходом в детерминированный
Между станциями реализуется МДОП/КС, при этом в цепи циркулируют полномочия, которые получает каждая станция.

1. Полномочия получает i станция.
2. Есть ли кадр для передачи.
3. Станция передаёт кадр, контролируя столкновения.
4. Есть ли столкновение.
5. Все станции-участники столкновения прекращают передачу кадров.
6. Станция, имеющая полномочия возобновляет передачу кадра и доводит её до конца.
7. Реализуется обычное равноправное МДОП/КС между станциями.
8. Полномочия передаются i+1 станции.

**** Гибридный доступ

В канале существуют средства измерения загрузки. При малой загрузке используется случайный множественный доступ, при большой детерминированный.

** Стандарт IEEE 802

Спецификации стандарта IEEE 802 определяют основные параметры для физических компонентов в сети, таких как, сетевая карта NIC (network interface card) и сетевой среды network media. Они определяют механизмы доступа к каналу связи и способы передачи данных.

Особенностью стандарта IEEE 802 является то, что канальный уровень модели OSI представлен в виде 2-х подуровней: LLC и MAC.

*LLC* подуровень управления логической связью. Функции:
1) Установление и завершение соединения.
2) Управление потоком кадров.
3) Подтверждение правильности приёма кадров.

Реализуется в виде программного модуля (драйвер сетевой карты) и уровень является общим для нескольких сетевых технологий.

*MAC* подуровень доступа к среде. Функции:
1) Управление доступом в передающей среде.
2) Определение границ кадров.
3) Проверка ошибок в кадрах.
4) Распознавание адресов.

MAC уровень реализуется в виде аппаратных компонентов. MAC подуровень уникален для каждой сетевой технологии.

Стандарт IEEE 802 включает следующие разделы:
1) 802.1 Internet working. Объединение сетей.
   - содержит обзор проекта 802;
   - определяет механизм управления сетью на MAC подуровнях;
   - задаёт требования к локальным сетям;
2) 802.2 LLC. Определяет функционирование подуровня LLC.
3) 802.3 Ethernet. Описывает протокол Ethernet и в частности метода доступа CSMA/CD (МДОК/КС).
4) 802.4 Tokken Bus. Сеть с топологией типа шина, используемая в качестве метода доступа передачу полномочий.
5) 802.5 Token Ring. Сеть с передачей полномочий с топологией кольцо.
6) 802.6 MAN. Рекомендации по построению городских сетевой (DQDB).
7) 802.7 Broadband. Технологическая группа по широковещательной передаче. Содержит рекомендации по широкополосным сетевым технологиям, оборудованию и т. д.
8) 802.8 Содержит рекомендации по применению оптоволоконных линий для передачи данных и в частности по их применению в сетях 802.3--802.6. FDDI.
9) 802.9 Технология интегрированной передачи голоса и данных по одной линии. ISDN.
10) 802.10 Network security. В нём рассмотрена безопасность сетей.
11) 802.11 Wireless network. Технология беспроводной передачи данных.
12) 802.12 100VGAnyLAN. Сеть передающая данные на скорости 100Мб на оптоволокне.

*** IEEE 802.3 Ethernet

В основе механизма доступа Ethernet лежит технология CSMA/CD. 

Все станции равноправны и любая станция может начать передачу, если канал свободен. Занятость канала проверяется по отсутствию несущей в течении 9,6 мкс (межкадровый интервал).

Если канал свободен, станция передаёт кадр и одновременно контролирует наличие столкновений. Если столкновение обнаружено, станция продолжает передачу в течении 32 бит (сигнал jam "затор").

Сигнал затора гарантирует, что все станции, участвующие в конфликте гарантированно распознают столкновение. Станция прерывает передачу и возобновляет попытки проверки занят ли канал через случайный промежуток времени, кратный 51,2 мкс, но не более 52 мс. Счётчик попыток станция увеличивает на единицу. Если в течении 16 попыток подряд кадр передать не удаётся из-за коллизий, попытки передачи прекращаются и пользователю передаётся сообщение о невозможности передачи.

При 30% загрузке сети алгоритм эффективен.

**** Стандарт Fast Ethernet

В начале 90-х годов скорость 10 Мб/сек была недостаточна, была создана рабочая группа, которая начала разрабатывать стандарты построения 100 Мб сети.

В итоге было разработано 3 варианта построения сети, которые вошли в часть 802.3u:
1) 100BaseTX представлял собой развитие 10BaseT. Сохранял стандартную топологию, формат кадра, но требовался кабель 5-ой категории. Необходимость использования другого способа кодирования --- ?? PAM5, 5-уровневый код, который использует двухбитовое кодирование (/используется в Gigabite Ethernet/).
2) 100BaseT4. Разработан специально для сетей, в которых использовалась витая пара 3-ей категории. Было принято решение использовать для передачи данных в одну сторону все 4 пары кабеля UTP, однако, возникало большое количество искажений сигнала из-за перекрёстных наводок. Для уменьшения количества ошибок одну пару кабеля стали использовать для управления и контроля коллизий. Для передачи данных использовался специальный метод предварительного кодирования 8B/6T. 8 бит исходных данных заменялись 6 троичными символами. В результате символьная скорость для каждой витой пары составляла 25 Мбод, что удовлетворяло требованиям полосы пропускания. Ей соответствует 33,3 Мб/с.
3) 100BaseFX. Стандарт использующий одномодовое оптоволокно. Длина сегмента до 10 километров. Одно волокно используется для передачи, одно для приёма. Разновидности:
   - 100BaseFX WDM. Использует одномодовое одножильное оптоволокно, работающее в режиме full-duplex. Передача и приём одновременно на разных длинах волны. Длина сегмента до 15 км.
   - 100BaseSX. Использует многомодовое оптоволокно и длина сегмента от 300 до 400 метров.

**** Стандарт Gigabit Ethernet.

802.3 ab
1. 1000BaseT. Использует витую пару категории 5E. При передаче используются все 4 пары. Метод кодирования PAM5. Частота гармоники 67.5 Мгц. Длина сегмента 100 м.
2. 1000BaseTX. Использует витую пару 6 категории. Приём и передача осуществляется по одной паре проводов. Длина сегмента до 100 метров.
3. 802.3z.
   - 1000BaseSX. Оптоволокно, длина сегмента 550 метров.
   - 1000BaseSX. Одномодовое оптоволокно для сегмента до 5 км.
   - 1000BaseLH. Одномодовое оптоволокно. Длина сегмента без повторителей --- 100 км.
   - 1000BaseCX. Использует медный твинаксиальный кабель. Длина сегмента до 25 метров.

**** Стандарт 10 Gigabit Ethernet.

802.3 ae
1. 10GBaseCX4. Используется медный кабель типа CX4. Длина сегмента до 15 метров.
2. 10GBaseSR. Используется многомодовое оптоволокно. Длина сегмента до 82 метров.
3. 10GBaseLX4. Используется многомодовое оптоволокно с предварительным уплотнением сигнала по длине волны. Длина сегмента до 300 метров.
4. 10GBaseLR/ER. Одномодовое оптоволокно. Длина сегмента от 10 до 40 км.
5. 10GBaseSW. Используются для формирования каналов STM-64 синхронной цифровой иерархии и имеет соответствующий физический интерфейс.
6. 10GBaseLW.
7. 10GBaseEW.

802.3 an
10GBaseT. Использует экранированную витую пару 6 или выше категории. Длина сегмента 100 м. 

*** Сеть 802.8 FDDI

ANSI X3T9.5.

Сеть была разработана 1985 году. Являлся развитием сети Token Ring (802.5).

Топология сети --- кольцо (двойное кольцо). Скорость передачи данных 100 Мб/с. Максимальное количество станций --- 1000. Максимальная длина кольца --- 20 км. Максимальное расстояние между 2-мя станциями --- 2 км. Максимальная длина кадра 4500 байт.

**** Особенности топологии

Топология сети --- двойное кольцо, данные по которым передаются в противоположных направлениях. Одно кольцо --- первичное (primary), второе кольцо --- вторичное (secondary) находится в резерве.

Станции бывают двух видов:
1) Станции DA с повышенными требованиями по надёжности. Подключены и к первичным, и к вторичным кольцам.
2) Станции SA с обычными требованиями по надёжности. Подключены только к первичному кольцу.

Режимы работы:
1) Нормальный. Если все узлы функционируют правильно, данные передаются только по первичному кольцу. Вторичное может быть задействовано только в режиме full duplex.
2) Сворачивание кольца. Если выходит из строя узел или линия связи, то адаптеры, ближайшие к месту аварии объединяют первичное и вторичное кольцо, т. к. кольца разнонаправлены, данные продолжают циркулировать между узлами и топология кольцо сохраняется.

**** Метод доступа

По кольцу циркулирует специальный кадр, называемый маркер доступа или token доступа. Когда станция получает маркер, она задерживает его на определённое время (THT) и передаёт кадры в кольцо. По истечении времени THT станция заканчивает передачу последнего кадра и следом за ним отправляет маркер следующей станции.

Кадры последовательно проходят через каждую станцию сети. Если станция распознала адрес получателя как свой, она принимает кадр, проверяет ошибки и устанавливает в заголовке кадра 3 флага:
1) флаг успешного распознавания адреса;
2) флаг успешного копирования в буфер;
3) флаг отсутствия ошибок.

После чего кадр дальше отправляется по кольцу. Станция-источник кадров получает свои кадры, прошедшие полный оборот, изымает их из кольца и по состоянию флагов оценивает успешность передачи.

Если станции нечего передавать, она не задерживает маркер.

Основной недостаток алгоритма --- возможность потери маркера. Для процедуры восстановления таймера используется дополнительный таймер на каждой станции, который считает время оборота маркера (TRT). 

Станция, у которой истекло время оборота маркера, может создать маркер и, не удерживая его на время THT, отправить его дальше в кольцо. При этот у следующей станции THT не истечёт, и она воспользуется новым маркером.

Если станция, создавшая маркер, получает старый маркер из кольца, она его удаляет.

**** Формат кадра FDDI

|  P | SD | FC | SA  | DA  | Data | CRC | ED | FS |
| 16 |  1 |  1 | 2/6 | 2/6 | 4500 |     |    |    |

1. Преамбула.
2. Стартовый разделитель.
3. Поле управления кадра CLFFZZZZ.
   - C флаг типа кадра. Синхронный или асинхронный.
   - L флаг длины адреса кадра. MAC или внутренний адрес 2 байта.
   - FF флаг, определяющий тип данных. Либо пользовательские, либо служебные.
   - Z детализирует тип служебного кадра.
4. FS поле статуса. ACS00000.
   - A флаг распознавания адреса.
   - C флаг успешного копирования в буфер.
   - S флаг отсутствия в кадре ошибок.

**** Стек протоколов FDDI

Рисунок

1) PMD. Протокол, зависящий от физической среды. Определяет волоконно-оптический кабель, коннекторы FDDI и оптико-электронный интерфейс.
2) PHY. Физический уровень. Отвечает за синхронизацию приёмника-передатчика, механизм установления тактовой частоты, кодирование декодирование информации, использование кодового преобразования 4B/5B, анализ и обработка служебных символов.
3) MAC подуровень доступа к среде. Управляет доступом станции к среде, управляет процедурой передачи маркера, генерирует CRC и проверяет её, адресует кадры и распознаёт адреса кадров. Удаляет кадры, адресатом которых является.
4) SMD протокол станционного управления. Определяет процедуры управления работой кольца на каждом из уровней. Для каждого уровня существует отдельный набор управляющих сообщений. На уровне PMD они позволяют локализовать неисправность кабеля, на уровне PHY обнаружить неисправные или отключившиеся станции. В обоих случаях управление процедурой сворачивания кольца. На уровне MAC управление восстановлением маркера в случае его потери.

**** Стандарт FFDI2

Основной задачей сети FDDI является надёжная и гарантированная передача данных между узлами. Однако использование этой сети для передачи изохронного трафика (требующий постоянной пропускной способности во времени) неэффективен.

Стандарт FDDI2 обеспечивает улучшенные характеристики по обслуживанию как обычных данных, так и потоковых. Для этого в нём дополнительно используется режим коммутации логических каналов.

Пропускная способность канала 100 Мб/с разбивается на 16 разнесённых по частоте каналов со скоростью 6.144 Мб/с. Каждый из подканалов может быть разделён ещё на несколько подканалов с шагом 8 кб/с. Данные по кольцу передаются в формате цикла, который создаёт главная станция, которая назначается каждый раз при инициализации кольца.

Циклом является последовательность 15625  бит, передаваемая каждые 125 мкс, т.е. 8000 раз в секунду. Для установления изохронного канал между двумя станциями, они обращаются к главной станции по протоколу SMT с заявкой на требуемую пропускную способность. Если в каждом цикле станции будет предоставлен 1 бит для передачи данных, это будет соответствовать выделенному каналу с пропускной способностью 8 кб/с. Если 1 байт, 64 кбит/с.

*** Промышленный стандарт локальных сетей. Модель Pro Way

Модель Pro Way разработана для автоматизированных систем управления технологическими процессами.

Модель Pro Way включает 5 уровней:
1) Прикладной.
2) Сетевой.
3) Магистральный.
4) Канальный.
5) Физический.

**** Физический уровень

Устанавливает правила преобразования кадра из формата, принятого для представления в станциях, в оборудовании и т. д. в единый формат, пригодный для передачи по сети.

Функции:
- гальваническая развязка цепей, оборудования и ЛС;
- контроль качества сигнала;
- синхронизация приёника и передатчика;
- контроль состояния сети связи (свободна, занята).

**** Канальный уровень

Выполняет следующие функции:
- обнаружение ошибок в заголовке кадра;
- обнаружение ошибок в данных. Общая вероятность пропуска или принятия ошибочного бита BER = 3*10^15.
- распознавание кадров, адресованных станции.

Формат кадра:
| Преамбула         | >1 |
| Адрес получателя  |  1 |
| Поле управления   |  1 |
| Адрес отправителя |  1 |
| КС заголовка      |  2 |
| Данные            |  n |
| КС данных         |  2 |

Поле управления:
| C | CA | IA | I | T(2) | T | R |

1) =С=. Признак командного кадра.
2) =CA=. Признак подтверждения команды.
3) =IA=. Признака принятия информационного кадра.
4) =I=. Признак информационного кадра + =T(2)= -> команда.
5) =T=. Номер передаваемого кадра.
6) =RR=. Номер последнего успешно переданного кадра.

Т. к. для нумерации кадров используется 1 бит, количество неподтверждённых кадров не может превышать одного.

**** Магистральный уровень

Обеспечивает управление доступом станции к каналу. Существует 6 иерархических функций магистрального уровня.

Способность станции выполнять ту или иную функцию называется /статус/ станции. Статус может меняться в процессе функционирования сети.

1) Приём. Станция принимает все правильные кадры, которые ей предназначены, отвечать она на них не может.
2) Исполнение. Кроме приёма станция может послать ответ на ей адресованный кадр.
3) Функция инициации.
   - запросить доступ к магистрали у станции-контролёра;
   - передача кадров станциям-приёмникам;
   - выбор исполнителя для одного шага обмена данными.
4) Заказ. Является дополнительным статусов к первым 3-м и позволяет станции изменить свой статус для получения доступа к магистрали ввиду неотложной необходимости (авария).
5) Контроль.
   - управление доступом к каналу путём установления инициатора для каждого шага обмена данными;
   - контроль работы инициаторов;
   - исключение перегрузок, вносимых инициаторами;
   - контроль отказов инициаторов.
6) Распоряжение. Станция-распорядитель передаёт управление магистралью путём назначения станции-контролёра и обеспечивает непрерывность управления при её отказе.

В качестве метода доступа используется передача маркера в сети с топологией шина.

**** Сетевой уровень

Если ОСУ ТП(?) состот из из нескольких магистралей, сетевой уровень организует связь между ними.

Управление сетью возлагается на станцию, имеющую статус /директора/, функции которой следующие:
1) Назначение распорядителей для каждой магистрали.
2) Контроль отказов распорядителей.

**** Прикладной уровень

Обработка данных, получаемых от оператора, технологических процессов, оборудования и т. д.

*** Городские сети (MAN) 802.6

Городская сеть занимает промежуточное место между глобальными и локальными сетями и обеспечивает высокоскоростной обмен данными между отдельными компьютерами и локальными сетями в пределах ограниченной территории.

В стандарте 802.6 описывает стандарт построения городской сети на основе протокола SMDS.

Рисунок.

Опорная сеть строится на устройствах коммутации (MSS) со специальным интерфейсом между ними (ISSI). Подключение пользователей к подобной сети происходит по протоколу DQDB.

**** Протокол DQDB

В протоколе DQDB определено 2 уровня --- физический и канальный.

/Физический уровень/ обеспечивает связь по оптоволоконному или широкополосному медному кабелю между оборудованием пользователя и устройством коммутации со скоростями от 1 до 34 Мбит/с. В качестве топологии используются разнонаправленные шины и каждое устройство подключено к обоим из них.

Рисунок.

На концах на каждой из шин располагается каналообразующее оборудование.

/Канальный уровень/. Данные передаются в виде кадров определённой длины каждые 125 мкс. Формат кадра:

Рисунок.

В поле ACF существенными являются 3 флага:
- признак занятости слота;
- флаг запроса доступа к каналу;
- режим работы.
  
Режим предопределённой передачи. Каждая станция получает возможность полного или частичного использования поле данных слота. Размер используемого поля данных определяет пропускную способность виртуального канала, который получает станция. В этом режиме в заголовке слота передаётся идентификатор виртуального канала.

Режим случайной передачи. Станции могут использовать слот случайным образом, используя специальный алгоритм распределённой очереди. При этом в заголовке слота устанавливаются все 1.

В зависимости от направления передачи одна шина используется для передачи данных, а другая шина для передачи запросов на доступ к каналу. При этом по шине данных значимым будет флаг /пустой или занятый слот/, а по шине запросов /флаг запросов/.

Для передачи в каждую сторону у станции существует 2 типа счётчиков:
- RQ счётчик запросов.
- CD декрементный счётчик.

Счётчик RQ увеличивается на 1 каждый раз, когда по шине запросов передаётся запрос. Счётчик RQ уменьшается на 1 каждый раз, когда по шине данных передаётся пустой слот.

Если станции необходимо занять слот в шине A, содержимое счётчика RQ передаётся в CD, счётчика RQ обнуляется, а в шину запросов передаётся запрос.

Счётчик CD уменьшается на 1 каждый раз, когда по шине данных передаётся пустой слот. Как только значение счётчика CD достигает 0, станция может использовать первый свободный слот шины A для передачи своих кадров.

*** Технологии глобальных сетей

1) Dial UP. С помощью аналоговых модемов.
2) PDH. Технология плезиохронной цифровой иерархии.
3) SDH/SONet. Синхронная цифровая иерархия.
4) ISDN. Цифровая сеть с интеграцией услуг.
5) xDSL. Цифровая пользовательская линия.

*** Аналоговая линия

Аналоговая телефонная линия предполагает использование аналоговых модемов, которые передают сигнал в полосе частот 0.3--3.4 кГц. Из-за шумов квантования, возникающих при процедуре АЦП, максимальная скорость передачи данных ограничена 35 кбит/с по теореме Шеннона.

Для двухпроводных линий модемы работают по протоколам серии V (V22 (1200 бит/с)--V34+ (33.6 кбит/с)). V.4x определяют способы помехоустойчивого кодирования, которые улучшают качество связи. V.90 является асинхронным. Скорость нисходящего (56,6 кбит/с), исходящего (33,6 кбит/с).

*** Цифровые выделенные линии. Технология PDH

В качестве передающей среды используется широкополосный медный кабель, либо оптоволоконный. Оборудование PDH существует двух видов: европейская, американский.

| Канал | Количество ТЛФ | Скорость, Мб/с |
|-------+----------------+----------------|
| E1    |             30 |          2.048 |
| E2    |            120 |          8.488 |
| E3    |            480 |         34.368 |
| E4    |           1920 |        139.264 |

Недостатки технологии PDH --- простой формат кадра на канальном уровне, в котором для каждого телефонного канала выделяется определённый объём данных.

Если телефонный канал не используется, слот заполняется нулями.
Поэтому по прямому назначению технология не используется, а используется в качестве пользовательского варианта подключения к сети, где в кадре передаются данные без привязки к телефонному каналу.

*** SDH/SONet

Использует более сложный формат кадра, в качестве среды передачи --- оптоволокно и обеспечивает более высокие скорости передачи данных.

| Канал | Скорость |
|-------+----------|
| STM1  |  155.520 |
| STM16 |    2488  |

Т. к. кадр SDH имеет не жёсткую структуру, STM1 позволяет полностью инкапсулировать кадр E4, обеспечивая совместимость технологий.

*** ISDN

Основная задача ISDN --- передача голосовых и других видов данных (интернет, факс) по обычной телефонной линии.

ISDN предполагает использование следующих разновидностей каналов:

| Тип канал | Скорость   | Назначение                        |
|-----------+------------+-----------------------------------|
| A         | -          | Выделенная телефонная линия       |
| B         | 64 кб/с    | Передача одного голосового канала |
| C         | 8/16 кб/с  | Передача данных                   |
| D         | 16/64 кб/с | Канал управления                  |
| E         | 64 кб/с    | Канал внутренней сигнализации     |
| H0        | 384        |                                   |
| H10       | 1472       | Передача                          |
| H11       | 1536       | данных                            |
| H12       | 1920       |                                   |

Для пользователя существует BRI --- базовый пользовательский интерфейс, который включает в себя в себя 2B + D = 144 кб/с.

*** xDSL

Представляет собой технологию передачи цифровых данных по существующей абонентской сети, в т. ч. и коммутируемой без ограничений использования полосы частот.

Все технологии DSL делятся на 2 вида:
- синхронные;
- асинхронные.

Синхронные обеспечивают одинаковые скорости исходящего и входящего трафика.

Для асихронных скорость входящего потока выше.

| Технология      | Скорость           |     Расстояние | ТЛФ пар | Назначение        |
|-----------------+--------------------+----------------+---------+-------------------|
| ISDL            | 144 кб/с           |            5.5 |       1 | ISD N             |
| SDSL            | 2.048 Мб/с         |              3 |       1 | E1                |
| HDSL            | 2.048 Мб/с         |            4.5 |       2 | E1                |
|-----------------+--------------------+----------------+---------+-------------------|
| ADSL            | 8.0 Мб/с, 1 Мб/с   |            5.5 |       1 | Inet              |
| ADSL lite       | 1.5 Мб/с, 0.5 Мб/с |            5.5 |       1 | Inet без сплитера |
| ADSL 2 Annex J  | 12 Мб/с, 3.5 Мб/с  |            5.5 |       1 | Inet              |
| ADSL 2+ Annex M | 24 Мб/с, 3.5 Мб/с  |            5.5 |       1 | Inet              |
|-----------------+--------------------+----------------+---------+-------------------|
| VDSL            | 65 Мб/с, 1.5 Мб/с  | 300 м (1200 м) |  Коакс. | Телевидение по    |
|                 |                    |                |         | запросу           |

**** Спектр ADSL сигнала

Рисунок. В случае, когда в канале существует сосредоточенная помеха, часть диапазона, которая затрагивается, исключается из общего спектра сигнала. Скорость при этом уменьшается, но связь остаётся устойчивой.

*** Протоколы канального уровня для выделенных линий
